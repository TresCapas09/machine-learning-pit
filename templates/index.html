<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3Eü•î%3C/text%3E%3C/svg%3E">
  <title>PotatoCare</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="/static/css/style.css"/>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="header-container">
      <div class="header-main">
        <div class="header-left">
          <div class="logo-box">
            <span class="logo-icon">üçÉ</span>
          </div>
          <div class="logo-text">
            <h1>PotatoCare</h1>
            <p class="logo-subtitle">ML-Powered Disease Classification</p>
          </div>
        </div>

        <nav class="header-nav">
          <a href="#analyze" class="nav-link">Analyze</a>
          <a href="#diseases" class="nav-link">Diseases</a>
          <a href="#about" class="nav-link">About</a>
        </nav>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <section class="hero-section">
    <div class="hero-container">
      <div class="hero-inner">
        <h2>Potato Disease Classification with CNN</h2>
        <p class="hero-subtitle">
          Upload a photo of a potato leaf and get instant ML-powered analysis
          with treatment recommendations.
        </p>
      </div>
    </div>
  </section>

  <main class="main">
    <!-- Upload Section -->
    <section id="analyze" class="section">
      <div class="section-header center">
        <h2>Analyze Potato Leaf</h2>
        <p>Upload a clear image of the potato leaf for instant disease detection.</p>
      </div>

      <div class="upload-container">
        <div class="upload-dropzone">
          <div class="upload-icon-wrapper">
            <span class="upload-icon">‚¨ÜÔ∏è</span>
          </div>
          <p class="upload-text-main">
            Drag and drop your image here, or click to browse.
          </p>
          <p class="upload-text-sub">
            Supports JPG, PNG, WEBP (Max 10MB)
          </p>
          
          <!-- Enhanced Upload Button -->
          <div class="upload-button-wrapper">
            <button class="upload-button" onclick="document.getElementById('fileInput').click()">
              Choose File
            </button>
            <span class="upload-filename" id="fileName">No file chosen</span>
          </div>
          
          <input type="file" class="upload-input" id="fileInput" accept=".jpg,.jpeg,.png,.webp,.gif" />
        </div>

        <!-- Image Preview Section -->
        <div id="imagePreviewContainer" style="display:none;">
          <h3>Uploaded Image</h3>
          <img id="uploadedImage" src="" alt="Uploaded potato leaf image" class="uploaded-image" />
          <div class="preview-actions">
            <button class="action-button verify-button" id="verifyButton">
              <span class="verify-icon">üîç</span>
              Verify & Classify Image
            </button>
            <button class="action-button remove-button" id="removeButton">
              <span class="remove-icon">üóëÔ∏è</span>
              Remove
            </button>
          </div>
        </div>

        <div class="upload-tip">
          <div class="tip-icon">üì∑</div>
          <div>
            <p class="tip-title">For best results:</p>
            <p class="tip-text">
              Capture the leaf in good lighting, ensure it's in focus, and include
              the full affected area.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Verification Popup -->
    <div id="verificationPopup" class="popup-overlay">
      <div class="popup-content">
        <div class="popup-header">
          <h3>Verify & Classify Image</h3>
          <button class="popup-close" id="closePopup">&times;</button>
        </div>
        
        <div class="verification-body">
          <div class="verification-icon">
            <div class="scanning-animation">
              <div class="scanner-line"></div>
              <div class="scanning-image-container">
                <img id="scanningImage" src="" alt="Image being scanned" class="scanning-image" />
              </div>
            </div>
          </div>
          
          <div class="verification-text">
            <h4>Classifying Potato Leaf Image</h4>
            <p>Our model is analyzing the uploaded image for disease patterns...</p>
          </div>
          
          <div class="verification-progress">
            <div class="progress-steps">
              <div class="progress-step active" data-step="1">
                <span class="step-number">1</span>
                <span class="step-text">Image Processing</span>
              </div>
              <div class="progress-step" data-step="2">
                <span class="step-number">2</span>
                <span class="step-text">Feature Extraction</span>
              </div>
              <div class="progress-step" data-step="3">
                <span class="step-number">3</span>
                <span class="step-text">Disease Analysis</span>
              </div>
              <div class="progress-step" data-step="4">
                <span class="step-number">4</span>
                <span class="step-text">Results Generation</span>
              </div>
            </div>
            
            <div class="progress-bar-container">
              <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
              </div>
              <div class="progress-text" id="progressText">0% Complete</div>
            </div>
          </div>
          
          <div class="verification-footer">
            <button class="verification-cancel" id="cancelVerification">Cancel</button>
          </div>
        </div>
      </div>
    </div>
    <!-- Results Section - Make sure this exists -->
    <section id="results" class="section" style="display: none;">
      <div class="result-card">
        <div class="result-header">
          <div class="result-header-left">
            <div class="result-header-icon">
              <span id="resultIcon">üçÉ</span>
            </div>
            <div>
              <h3>Classification Result:</h3>
              <p id="result-disease">Loading...</p>
            </div>
          </div>
          <div class="result-header-right">
            <p id="confidence-label">Confidence</p>
            <p id="confidence-value">Loading...</p>
          </div>
        </div>

        <div class="result-section-inner">
          <div class="confidence-title">
            <span class="confidence-icon">üìà</span>
            <span>Model Confidence</span>
          </div>
          <div class="confidence-bar">
            <div id="confidence-bar" class="confidence-fill" style="width: 0%;"></div>
          </div>
        </div>

        <div class="result-body">
          <h4>Description</h4>
          <p id="result-description">Loading...</p>
        </div>

        <div class="result-treatment">
          <h4>Recommended Treatment</h4>
          <p id="result-treatment">Loading...</p>
        </div>

        <!-- Note -->
        <div class="result-footer-note">
          <p>
            <strong>Note:</strong> This ML prediction should be used as a guide.
            For critical decisions, consult with an agricultural expert.
          </p>
        </div>
      </div>
    </section>
    <!-- Disease Cards -->
    <section id="diseases" class="section">
      <div class="section-header center">
        <h2>Common Potato Diseases</h2>
        <p>Learn about the diseases our model can detect.</p>
      </div>

      <div class="diseases-grid">
        <div class="disease-card">
          <div class="disease-icon disease-icon-yellow">üíß</div>
          <h3>Early Blight</h3>
          <p class="disease-pathogen">Alternaria solani</p>
          <p class="disease-text">
            Dark brown spots with concentric rings on older leaves.
          </p>
        </div>

        <div class="disease-card">
          <div class="disease-icon disease-icon-red">üå¨Ô∏è</div>
          <h3>Late Blight</h3>
          <p class="disease-pathogen">Phytophthora infestans</p>
          <p class="disease-text">
            Water-soaked lesions that turn brown and spread rapidly.
          </p>
        </div>

        <div class="disease-card">
          <div class="disease-icon disease-icon-green">üçÄ</div>
          <h3>Healthy Leaves</h3>
          <p class="disease-pathogen">No disease</p>
          <p class="disease-text">
            Green, vigorous foliage with normal structure.
          </p>
        </div>
      </div>

      <!-- About Model -->
      <div id="about" class="about-section">
        <div class="about-inner">
          <h3>About Our CNN Model</h3>
          <p>
            Our Convolutional Neural Network (CNN) has been trained on thousands of
            potato leaf images to accurately identify disease patterns. The model
            analyzes features like color variations, texture, and lesion patterns to
            provide reliable predictions with confidence scores.
          </p>

          <div class="about-stats">
            <div class="about-stat">
              <p class="stat-label">Accuracy</p>
              <p class="stat-value">95.3%</p>
            </div>
            <div class="about-stat">
              <p class="stat-label">Images</p>
              <p class="stat-value">10,000+</p>
            </div>
            <div class="about-stat">
              <p class="stat-label">Classes</p>
              <p class="stat-value">3</p>
            </div>
            <div class="about-stat">
              <p class="stat-label">Speed</p>
              <p class="stat-value">&lt; 2s</p>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-inner">
      <div class="footer-brand">
        <span class="footer-leaf">üçÉ</span>
        <span class="footer-title">PotatoCare</span>
      </div>
      <p class="footer-note">AI-powered agricultural diagnostics for potato farmers</p>
    </div>
  </footer>

  <script src="/static/js/script.js"></script> 
</body>
</html>